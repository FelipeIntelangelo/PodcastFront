<header>
    <div id="divLogo"><a href=""><img src="assets/isotipo-light.png" alt="Wavelly Logo" id="logoNav"></a></div>
    <div>
        <ul>
            <a href=""><li>Podcasts</li></a>
            <a href=""><li>About Us</li></a>
            <a href=""><li>Contact</li></a> 
        </ul>
    </div>
    <div id="headersButton">
        <div class="search-wrapper">
            <div class="search-container">
                <input type="search" class="search-input" placeholder="Search Podcasts or Users" aria-label="Search podcasts"
                    (focus)="onSearchFocus()"
                    (input)="onSearchInput($event)"
                    (blur)="onSearchBlur()">
                <button class="search-button" (click)="onSearchButton()" aria-label="Search">
                    <span class="search-icon"></span>
                </button>
            </div>
            <div class="search-dropdown" [class.show]="showDropdown && searchResults.length > 0">
                <div class="search-results">
                    @for (result of searchResults; track result.id) {
                        <div
                            class="search-result-item"
                            (click)="selectResult(result)">
                            <div class="result-title">{{ result.nickname }}</div>
                            @if (result.bio && result.bio.length > 0) {
                                <div class="result-subtitle">
                                    {{ result.bio.length > 20 ? (result.bio.slice(0, 20) + 'â€¦') : result.bio }}
                                </div>
                            }
                        </div>
                    }
                </div>
            </div>
        </div>
        <div *ngIf="isLoggedIn && user" class="profile-section">
            <div (click)="toggleProfileMenu()" class="profile-picture-container">
                <img [src]="user?.profilePicture ? user.profilePicture : 'assets/default-pfp.png'" alt="User Profile" class="profile-picture" />
            </div>
            <div *ngIf="showProfileMenu" class="profile-menu">
                <a routerLink="/profile" class="menu-item">My Profile</a>
                <div (click)="logout()" class="menu-item logout-item">Logout</div>
            </div>
        </div>
        <button *ngIf="!isLoggedIn" id="headerSignIn" routerLink="auth/login">Sign In</button>
    </div>
</header>